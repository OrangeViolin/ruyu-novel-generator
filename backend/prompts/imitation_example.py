"""
仿写生成系统案例演示
示例：《斗破苍穹》退婚流 → 现代职场裁员流
"""

EXAMPLE_CASE = {
    "original_text": """
    斗破苍穹·第一章 陨落的天才

    "斗之气，三段！"

    望着测验魔石碑上面闪亮得甚至有些刺眼的五个大字，少年面无表情，唇角有着一抹自嘲，紧握的手掌，因为大力，而导致略微尖锐的指甲深深的刺进了掌心之中，带来一阵阵钻心的疼痛...

    "萧炎，斗之气，三段！级别：低级！"

    测验魔石碑之旁，一位中年男子看了一眼碑上所显示的信息，语气漠然地将之公布了出来。

    中年男子话音一落，广场上顿时如炸了锅一般，即使他对此已经麻木了，可依旧能听到周围传来的嘲讽声。

    "嘿，这个天才现在又变成废柴了。"
    "真是三十年河东，三十年河西啊..."
    "要我说，还不如直接逐出家族，省得在这丢人现眼..."
    ...

    "萧炎，纳兰侄女此次前来，是想与你解除婚约..."

    萧炎身体微微一颤，缓缓抬起头来，露出一双漆黑如墨的眸子，声音平淡得让人心悸："纳兰嫣然，你好大的胆子..."

    他慢慢站起身，嘴角勾起一抹冰冷的弧度："三年之后，我会亲自上云岚宗，向你挑战！"
    """,

    "original_analysis": {
        "emotional_peak": {
            "position": "第7段（纳兰嫣然退婚）",
            "content": "萧炎，纳兰侄女此次前来，是想与你解除婚约...",
            "analysis": "这是全章最大的羞辱点：婚约本是喜事，被当众解除更是雪上加霜，将主角的尊严踩到谷底"
        },
        "core_emotion": "从天才跌落到废柴的屈辱 → 被未婚妻当众退婚的愤怒 → 立下三年之约的逆袭决心",
        "beat_sheet": [
            {"phase": "起", "content": "萧炎测试斗气只有三段，从天才沦为废柴", "emotion": "压抑/屈辱"},
            {"phase": "承", "content": "周围人的嘲讽，家族的冷眼", "emotion": "压抑累积"},
            {"phase": "转", "content": "纳兰嫣然上门退婚，羞辱达到顶点", "emotion": "愤怒爆发"},
            {"phase": "合", "content": "萧炎立下三年之约，决心逆袭", "emotion": "期待/热血"}
        ],
        "abstract_structure": """
        主角从巅峰跌落 → 遭遇众人嘲讽（压抑累积）→ 权威人物出现带来更大打击（羞辱顶点）→ 主角爆发愤怒 → 立下逆袭誓言（悬念钩子：能否实现？）
        """,
        "hook_techniques": [
            "信息差悬念：三年之后能否成功？",
            "时间限定：三年之约制造紧迫感",
            "身份对比：废柴 vs 宗门天才，强化期待感"
        ]
    },

    "new_settings": {
        "worldview": "现代职场（互联网大厂）",
        "protagonist": {
            "name": "李明",
            "identity": "35岁的P7技术专家，曾经是公司明星员工，如今因年龄和精力下降被边缘化",
            "background": "曾经带领团队做出过爆款产品，现在被视为"性价比低"的老员工"
        },
        "core_conflict": "裁员谈话（对应退婚）",
        "golden_finger": "意外获得AI辅助系统，可以快速学习新技术、优化代码、预测业务趋势",
        "antagonist": {
            "name": "HR王经理",
            "identity": "总部人力资源总监，代表公司高层意志",
            "relationship": "对应纳兰嫣然（强势方，主动发起对话）"
        }
    },

    "reconstruction_blueprint": {
        "comparison_table": [
            {
                "beat_index": 1,
                "original_plot": "萧炎测试斗气只有三段，从天才沦为废柴，周围人嘲讽",
                "new_plot": "李明在季度绩效评估中被评为C级，曾经的技术专家被边缘化，同事议论"老员工性价比低"",
                "transformation_logic": "场景置换：斗气测试 → 绩效评估；嘲讽对象：从天才变废柴 → 从明星员工变被裁员对象",
                "emotion_match": "屈辱/压抑"
            },
            {
                "beat_index": 2,
                "original_plot": "家族会议，萧炎坐在角落，无人理会",
                "new_plot": "部门例会，李明发言被无视，新人抢话，领导敷衍",
                "transformation_logic": "场景置换：家族会议 → 部门例会；权力关系：边缘化处理",
                "emotion_match": "压抑累积"
            },
            {
                "beat_index": 3,
                "original_plot": "纳兰嫣然上门，当众提出退婚，众人震惊",
                "new_plot": "HR王经理约谈，拿出裁员名单，通知李明被"优化"（裁员）",
                "transformation_logic": "场景置换：上门退婚 → 约谈裁员；羞辱逻辑：曾经的荣耀被当众剥离",
                "emotion_match": "愤怒/屈辱（情感顶点）"
            },
            {
                "beat_index": 4,
                "original_plot": "萧炎爆发：纳兰嫣然，你好大的胆子！",
                "new_plot": "李明拍桌子：我为公司付出十年，你们就是这样对待老兵的？",
                "transformation_logic": "情绪守恒：从隐忍到爆发，必须有动作和台词的高光时刻",
                "emotion_match": "愤怒爆发"
            },
            {
                "beat_index": 5,
                "original_plot": "萧炎立下三年之约：三年后上云岚宗挑战",
                "new_plot": "李明放话：三年后，我会以创业公司CEO的身份回来，收购你们现在的业务！",
                "transformation_logic": "结构保留 + 悬念钩子：时间限定 + 身份反转目标",
                "emotion_match": "期待/热血"
            }
        ],
        "character_mapping": {
            "萧炎": "李明（从天才到废柴 → 从明星员工到被裁员者）",
            "纳兰嫣然": "HR王经理（强势退婚方 → 强势裁员方）",
            "萧家族人": "公司同事（嘲讽者）",
            "药老（金手指）": "AI系统（后文出现）"
        },
        "setting_mapping": {
            "斗气测试": "绩效评估",
            "云岚宗": "总部人力资源部",
            "退婚": "裁员",
            "三年之约": "三年创业逆袭之约"
        }
    },

    "generated_example": """
    第一章 被优化的时代

    "绩效评级：C"

    望着邮件中刺眼的红色大字，李明面无表情地握紧了鼠标，指节因用力而发白。三十五岁的他，曾经是这家互联网大厂的明星工程师，P7职级，年薪百万，带领团队做出过千万用户的产品。

    而现在，他成了"性价比低"的老员工。

    "李明，这次季度评估你是C级，建议主动提离职。"

    一对一沟通会上，HR的话音刚落，李明就感觉到周围投来的异样目光。那些目光里有同情，更多的是幸灾乐祸。

    "嘿，那个曾经的天才现在也被优化了。"
    "三十五岁的码农，确实不如刚毕业的小年轻能卷。"
    "早就该走了，占着位置不干活。"

    ...

    "李明，总部人力资源总监王总想和你谈谈。"

    李明被叫进会议室时，王总已经坐在那里了，桌上放着一个文件夹。

    "李明，根据公司战略调整，你的岗位被列入了优化名单。"

    李明身体微微一颤，缓缓抬起头来，露出布满血丝的双眼，声音平静得让人心悸："王总，我为这家公司付出了十年青春。"

    "公司也很感谢你的贡献，但是..." 王总推过来一份协议，"这是N+1的赔偿方案，请你签字。"

    李明看着那份协议，突然笑了，笑声越来越大。

    "好，很好。"

    他慢慢站起身，整理了一下西装领口，眼中闪过一丝冷光："王总，三年之后，我会以创业公司CEO的身份回来，收购你们现在的业务！"

    说完，他转身离去，留下身后错愕的王总。

    （悬念钩子：李明的手机突然震动，一条短信出现："【AI助手】检测到您的不甘情绪，逆袭系统已激活，是否开始第一次技术升级？"）
    """
}

# 打印案例对比表
def print_comparison():
    print("=" * 100)
    print("《斗破苍穹》退婚流 → 现代职场裁员流 仿写案例")
    print("=" * 100)
    print()

    print("【原文章节分析】")
    print(f"核心情感主线：{EXAMPLE_CASE['original_analysis']['core_emotion']}")
    print()
    print("抽象结构链：")
    print(EXAMPLE_CASE['original_analysis']['abstract_structure'])
    print()

    print("=" * 100)
    print("【左右对照表：原情节 → 新情节】")
    print("=" * 100)
    print()

    for beat in EXAMPLE_CASE['reconstruction_blueprint']['comparison_table']:
        print(f"节拍 {beat['beat_index']}: {beat['original_plot'][:30]}...")
        print(f"  ↓ 转化为（{beat['emotion_match']}）")
        print(f"  新情节: {beat['new_plot'][:50]}...")
        print(f"  逻辑: {beat['transformation_logic']}")
        print()

    print("=" * 100)
    print("【核心公式验证】")
    print("=" * 100)
    print("✅ 70% 爆款骨架：保留起承转合节奏，保留情感曲线")
    print("✅ 20% 重构血肉：玄幻世界 → 现代职场，斗气 → 绩效，退婚 → 裁员")
    print("✅ 10% 悬念钩子：AI系统激活，三年创业逆袭之约")
    print()

if __name__ == "__main__":
    print_comparison()
